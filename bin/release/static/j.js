var apiClientIds=["82f991a3e8e7949"],loadingImageURI="./static/img/loading.gif",album,images=[],currentImage=-1,loadedImage=0,currentlyLoading=!1,imageWidth,imageHeight;function getApiClientId(){return apiClientIds[Math.floor(Math.random()/(1/apiClientIds.length))]}
function setArrows(){-1==currentImage?document.getElementById("leftArrowImage").src="./static/img/leftArrowDisabled.svg":currentImage>=album.images.length-1?document.getElementById("rightArrowImage").src="./static/img/rightArrowDisabled.svg":(document.getElementById("leftArrowImage").src="./static/img/leftArrow.svg",document.getElementById("rightArrowImage").src="./static/img/rightArrow.svg")}
function setImageIndex(a){if(0==a){if(-1>=currentImage)return;--currentImage}else if(1!=a&&2==a){if(currentImage>=album.images.length-1)return;currentImage+=1}setArrows();aggressiveLoading();presentImage()}
function presentImage(){-1==currentImage?(album.nsfw?setupImage("./static/img/nsfw.svg"):setupImage("http://i.imgur.com/"+album.cover+"h.png"),document.getElementById("title").innerHTML=album.title+"<small><small><small><small><small><a href='http://imgur.com/a/"+album.id+"/zip'> Album zip download link.</a></small></small></small></small></small>",document.getElementById("description").innerHTML=SnuOwnd.getParser().render(spaceIfNull(album.description))):(setupImage(album.images[currentImage].link),
document.getElementById("title").innerHTML=spaceIfNull(album.images[currentImage].title),document.getElementById("description").innerHTML=SnuOwnd.getParser().render(spaceIfNull(album.images[currentImage].description)))}
function setupImage(a){var c=currentImage;document.getElementById("imageDisplay").src=loadingImageURI;document.getElementById("imageDisplay").width="100";document.getElementById("imageDisplay").height="100";var b=document.createElement("IMG");b.setAttribute("src",a);b.onload=function(){c==currentImage&&(document.getElementById("imageDisplay").src=this.src,resizeImage())}}
function aggressiveLoading(){if(loadedImage<album.images_count&&loadedImage<currentImage+5&&0==currentlyLoading){currentlyLoading=!0;var a=document.createElement("IMG");a.setAttribute("src",album.images[loadedImage].link);a.onload=function(){currentlyLoading=!1;aggressiveLoading()};loadedImage+=1}}function manageKeyEvent(a){37==a.keyCode?setImageIndex(0):39==a.keyCode&&setImageIndex(2)}
function resizeImage(){imageHeight=document.getElementById("imageHolderHeight").offsetHeight;imageWidth=document.getElementById("imageHolderWidth").offsetWidth;var a=document.getElementById("imageDisplay");(a.naturalWidth>a.naturalHeight?!(a.naturalHeight/a.naturalWidth*imageWidth>imageHeight):a.naturalWidth/a.naturalHeight*imageHeight>imageWidth)?(a.width=imageWidth,document.getElementById("imageTableData").width=imageWidth,a.height=Math.floor(a.naturalHeight/a.naturalWidth*imageWidth)):(a.height=
imageHeight,a.width=Math.floor(a.naturalWidth/a.naturalHeight*imageHeight),document.getElementById("imageTableData").width=imageWidth)}
function setupPage(){var a=new XMLHttpRequest;a.onreadystatechange=function(){4==a.readyState&&200==a.status&&(album=JSON.parse(a.responseText).data,album.title&&(document.title=album.title),setImageIndex(1))};a.open("GET","https://api.imgur.com/3/album/nc1b0",!0);a.setRequestHeader("Authorization","Client-ID "+getApiClientId());a.send();document.getElementById("imageDisplay").src=loadingImageURI;document.getElementById("imageDisplay").width="100";document.getElementById("imageDisplay").height="100"}
function spaceIfNull(a){return null==a?" ":a}window.load=setupPage();
